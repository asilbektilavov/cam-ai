<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CamAI — Презентация продукта</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
*{margin:0;padding:0;box-sizing:border-box}
:root{--p:#6366f1;--pl:#818cf8;--pd:#4f46e5;--ac:#06b6d4;--ac2:#8b5cf6;--ok:#10b981;--warn:#f59e0b;--err:#ef4444;--bg:#0f0f23;--card:rgba(255,255,255,0.04);--card2:rgba(255,255,255,0.07);--t:#e2e8f0;--tm:#94a3b8;--td:#475569;--border:rgba(255,255,255,0.08)}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--t);overflow:hidden;height:100vh}
.bg-anim{position:fixed;inset:0;z-index:0;overflow:hidden}
.orb{position:absolute;border-radius:50%;filter:blur(80px);opacity:.12;animation:fl 20s ease-in-out infinite}
.orb:nth-child(1){width:600px;height:600px;background:var(--p);top:-200px;left:-100px}
.orb:nth-child(2){width:500px;height:500px;background:var(--ac);bottom:-150px;right:-100px;animation-delay:-7s}
.orb:nth-child(3){width:400px;height:400px;background:var(--ac2);top:50%;left:50%;transform:translate(-50%,-50%);animation-delay:-14s}
@keyframes fl{0%,100%{transform:translate(0,0) scale(1)}25%{transform:translate(50px,-30px) scale(1.1)}50%{transform:translate(-20px,40px) scale(.95)}75%{transform:translate(30px,20px) scale(1.05)}}
.grid-ov{position:fixed;inset:0;background-image:linear-gradient(rgba(99,102,241,.03) 1px,transparent 1px),linear-gradient(90deg,rgba(99,102,241,.03) 1px,transparent 1px);background-size:60px 60px;z-index:1}
.progress{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,var(--p),var(--ac),var(--ac2));z-index:100;transition:width .4s}
.logo{font-size:1.1rem;font-weight:800;position:fixed;top:24px;right:32px;z-index:100;color:var(--tm);letter-spacing:2px}.logo span{color:var(--pl)}
.pres{position:relative;z-index:10;width:100vw;height:100vh}
.slide{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;padding:50px 70px;opacity:0;transform:translateX(80px);transition:all .5s cubic-bezier(.16,1,.3,1);pointer-events:none;overflow-y:auto}
.slide.active{opacity:1;transform:translateX(0);pointer-events:auto}
.slide.prev{opacity:0;transform:translateX(-80px)}
.sn{position:absolute;top:24px;left:40px;font-size:12px;font-weight:700;color:var(--pl);letter-spacing:2px;text-transform:uppercase}
h1{font-size:3.8rem;font-weight:900;line-height:1.1;letter-spacing:-2px;margin-bottom:16px}
h2{font-size:2.6rem;font-weight:800;line-height:1.15;margin-bottom:12px;letter-spacing:-1px}
h3{font-size:1.3rem;font-weight:700;margin-bottom:10px;color:var(--pl)}
.gr{background:linear-gradient(135deg,var(--pl),var(--ac),var(--ac2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.sub{font-size:1.15rem;color:var(--tm);max-width:700px;line-height:1.7}
.sub2{font-size:1rem;color:var(--tm);line-height:1.7;max-width:600px}
.cg{display:grid;gap:16px;width:100%;max-width:1200px}
.cg2{grid-template-columns:1fr 1fr}.cg3{grid-template-columns:1fr 1fr 1fr}.cg4{grid-template-columns:1fr 1fr 1fr 1fr}
.cd{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:22px;backdrop-filter:blur(20px);transition:all .3s;position:relative;overflow:hidden}
.cd:hover{border-color:rgba(99,102,241,.25);transform:translateY(-2px);box-shadow:0 12px 30px rgba(0,0,0,.2)}
.cd h4{font-size:1rem;font-weight:700;margin-bottom:6px}
.cd p,.cd .desc{font-size:.88rem;color:var(--tm);line-height:1.55}
.mockup{background:#111827;border:1px solid rgba(255,255,255,.1);border-radius:14px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.5)}
.mock-bar{height:36px;background:#1f2937;display:flex;align-items:center;padding:0 14px;gap:8px;border-bottom:1px solid rgba(255,255,255,.06)}
.mock-dot{width:10px;height:10px;border-radius:50%}.mock-dot.r{background:#ef4444}.mock-dot.y{background:#f59e0b}.mock-dot.g{background:#10b981}
.mock-url{margin-left:12px;background:rgba(255,255,255,.06);border-radius:6px;padding:3px 12px;font-size:11px;color:var(--tm);flex:1;text-align:center}
.mock-body{padding:16px}
.mock-sidebar{width:52px;background:#1e1e3a;border-right:1px solid var(--border);display:flex;flex-direction:column;align-items:center;padding:12px 0;gap:10px;flex-shrink:0}
.mock-sidebar .si{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:14px;color:var(--tm);transition:all .2s}
.mock-sidebar .si.active{background:var(--p);color:#fff}
.mock-content{flex:1;padding:16px;overflow:hidden}
.mstat{display:flex;gap:10px;margin-bottom:14px}
.mstat-c{flex:1;background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:12px}
.mstat-c .icon{width:28px;height:28px;border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:13px;margin-bottom:8px}
.mstat-c .val{font-size:1.3rem;font-weight:800}
.mstat-c .lbl{font-size:10px;color:var(--tm);margin-top:2px}
.mcam-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.mcam{aspect-ratio:16/10;border-radius:8px;position:relative;overflow:hidden;border:1px solid var(--border)}
.mcam .bg{position:absolute;inset:0}
.mcam .overlay{position:absolute;bottom:0;left:0;right:0;padding:6px 8px;background:linear-gradient(transparent,rgba(0,0,0,.7))}
.mcam .overlay span{font-size:9px;color:#fff;font-weight:600}
.mcam .badge{position:absolute;top:4px;left:4px;font-size:8px;padding:2px 6px;border-radius:4px;font-weight:700;color:#fff}
.mcam .badge.live{background:var(--ok)}.mcam .badge.off{background:var(--err)}
.mcam .badge.ai{position:absolute;top:4px;right:4px;left:auto;background:rgba(0,0,0,.5);color:var(--ok);display:flex;align-items:center;gap:2px}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.mev{display:flex;flex-direction:column;gap:8px}
.mev-i{display:flex;gap:8px;padding:8px;border-bottom:1px solid var(--border)}
.mev-i .dot{width:6px;height:6px;border-radius:50%;margin-top:6px;flex-shrink:0}
.mev-i .dot.crit{background:var(--err)}.mev-i .dot.warn{background:var(--warn)}.mev-i .dot.info{background:#3b82f6}
.mev-i .txt{font-size:10px;line-height:1.5}.mev-i .txt .d{color:var(--t)}.mev-i .txt .m{color:var(--tm);margin-top:2px}
.mchart{display:flex;align-items:end;gap:4px;height:80px;margin-top:8px}
.mchart .bar{flex:1;border-radius:3px 3px 0 0;transition:height .3s;min-height:3px}
.callout{background:rgba(99,102,241,.1);border:1px solid rgba(99,102,241,.3);border-radius:10px;padding:14px 18px;margin-top:10px}
.callout p{font-size:.9rem;line-height:1.6}
.callout .hl{color:var(--pl);font-weight:600}
.twocol{display:grid;grid-template-columns:1fr 1fr;gap:40px;width:100%;max-width:1200px;align-items:start}
.twocol.r55{grid-template-columns:55% 45%}.twocol.r45{grid-template-columns:45% 55%}
.fl{list-style:none;display:flex;flex-direction:column;gap:8px}
.fl li{display:flex;align-items:flex-start;gap:10px;font-size:.95rem;padding:8px 14px;background:var(--card);border-radius:10px;border:1px solid var(--border)}
.fl li .ck{width:22px;height:22px;border-radius:6px;background:rgba(16,185,129,.15);display:flex;align-items:center;justify-content:center;color:var(--ok);font-weight:bold;flex-shrink:0;font-size:12px}
.fl li .ft{flex:1}.fl li .ft strong{display:block;margin-bottom:2px}.fl li .ft span{font-size:.82rem;color:var(--tm)}
.steps{display:flex;gap:16px;margin-top:16px}
.step{flex:1;text-align:center;padding:20px 16px;background:var(--card);border:1px solid var(--border);border-radius:14px}
.step .num{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--p),var(--ac));color:#fff;font-weight:800;font-size:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 10px}
.step h4{font-size:.95rem;font-weight:700;margin-bottom:6px}
.step p{font-size:.82rem;color:var(--tm);line-height:1.5}
.nav{position:fixed;bottom:24px;left:50%;transform:translateX(-50%);z-index:100;display:flex;align-items:center;gap:14px;background:rgba(15,15,35,.92);border:1px solid var(--border);border-radius:14px;padding:10px 20px;backdrop-filter:blur(20px)}
.nav-btn{width:40px;height:40px;border-radius:10px;border:1px solid var(--border);background:transparent;color:var(--t);font-size:16px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}
.nav-btn:hover{background:rgba(99,102,241,.2);border-color:var(--p)}
.dots{display:flex;gap:5px}
.dot{width:7px;height:7px;border-radius:50%;background:rgba(255,255,255,.12);transition:all .3s;cursor:pointer}
.dot.active{background:var(--pl);width:20px;border-radius:4px}
.cnt{font-size:.8rem;color:var(--tm);font-weight:600;min-width:45px;text-align:center}
.arch{display:flex;flex-direction:column;align-items:center;gap:10px;padding:24px;background:var(--card);border:1px solid var(--border);border-radius:16px;width:100%;max-width:900px}
.arch-row{display:flex;justify-content:center;align-items:center;gap:16px;flex-wrap:wrap}
.arch-box{padding:12px 20px;border-radius:10px;font-weight:600;font-size:.85rem;text-align:center;min-width:140px;border:1px solid var(--border)}
.arch-box.cen{background:linear-gradient(135deg,rgba(99,102,241,.25),rgba(139,92,246,.25));border-color:var(--p);font-size:.95rem;padding:14px 28px}
.arch-box.sat{background:rgba(6,182,212,.12);border-color:rgba(6,182,212,.3)}
.arch-box.cli{background:rgba(16,185,129,.12);border-color:rgba(16,185,129,.3)}
.arch-box.det{background:rgba(245,158,11,.12);border-color:rgba(245,158,11,.3)}
.arch-lbl{font-size:.82rem;color:var(--tm);text-align:center}
.tag{display:inline-block;padding:3px 10px;border-radius:5px;font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.tag.free{background:rgba(16,185,129,.12);color:var(--ok)}.tag.paid{background:rgba(245,158,11,.12);color:var(--warn)}
.explain{background:rgba(99,102,241,.06);border:1px solid rgba(99,102,241,.15);border-radius:14px;padding:20px 24px;margin-top:16px;max-width:1100px}
.explain p{font-size:.92rem;color:var(--t);line-height:1.7}
.explain .hl{color:var(--pl);font-weight:600}
.sec-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:800px}
.sec-i{display:flex;align-items:center;gap:12px;padding:14px 18px;background:var(--card);border:1px solid var(--border);border-radius:12px}
.sec-ic{width:36px;height:36px;border-radius:8px;background:rgba(16,185,129,.1);display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0}
.sec-i h5{font-weight:700;font-size:.9rem}.sec-i p{font-size:.78rem;color:var(--tm)}
.price-r{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:var(--card);border:1px solid var(--border);border-radius:10px;margin-bottom:6px;max-width:650px;width:100%}
.price-l{font-weight:500;font-size:.92rem}.price-v{font-weight:700;color:var(--ok)}
.code{background:rgba(0,0,0,.4);border:1px solid var(--border);border-radius:12px;padding:18px;font-family:'JetBrains Mono',monospace;font-size:.8rem;line-height:1.8;max-width:800px;width:100%}
.code .cm{color:#6b7280}.code .cmd{color:var(--ok)}.code .fl{color:var(--pl)}.code .vl{color:var(--warn)}
.center{display:flex;flex-direction:column;align-items:center;text-align:center}
/* Pipeline */
.pipe{display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin:10px 0}
.pipe-box{padding:10px 16px;border-radius:10px;font-weight:600;font-size:.85rem;text-align:center;border:1px solid var(--border);min-width:100px}
.pipe-arr{color:var(--pl);font-size:1.2rem;font-weight:700}
/* Metric */
.met{display:inline-flex;align-items:baseline;gap:4px}
.met .v{font-size:1.5rem;font-weight:900}.met .u{font-size:.8rem;color:var(--tm)}
/* Test badge */
.tbadge{display:inline-flex;align-items:center;gap:4px;padding:3px 8px;border-radius:5px;font-size:.72rem;font-weight:700}
.tbadge.pass{background:rgba(16,185,129,.12);color:var(--ok)}.tbadge.warn{background:rgba(245,158,11,.12);color:var(--warn)}
@media(max-width:1024px){.slide{padding:30px}.twocol{grid-template-columns:1fr;gap:20px}h1{font-size:2.8rem}h2{font-size:2rem}.cg3,.cg4{grid-template-columns:1fr 1fr}}
</style>
</head>
<body>
<div class="bg-anim"><div class="orb"></div><div class="orb"></div><div class="orb"></div></div>
<div class="grid-ov"></div>
<div class="progress" id="pb"></div>
<div class="logo">Cam<span>AI</span></div>

<div class="pres" id="pres">

<!-- S0: Title -->
<div class="slide active center" data-slide="0">
<div style="margin-bottom:20px">
<svg width="72" height="72" viewBox="0 0 80 80" fill="none"><rect width="80" height="80" rx="20" fill="url(#g1)"/><path d="M20 35C20 35 28 25 40 25C52 25 60 35 60 35C60 35 52 45 40 45C28 45 20 35 20 35Z" stroke="#fff" stroke-width="2.5" fill="none"/><circle cx="40" cy="35" r="7" stroke="#fff" stroke-width="2.5" fill="none"/><circle cx="40" cy="35" r="3" fill="#fff"/><path d="M25 50L35 55L45 48L55 53" stroke="rgba(255,255,255,.5)" stroke-width="1.5" stroke-linecap="round"/><defs><linearGradient id="g1" x1="0" y1="0" x2="80" y2="80"><stop stop-color="#6366f1"/><stop offset="1" stop-color="#06b6d4"/></linearGradient></defs></svg>
</div>
<h1><span class="gr">CamAI</span></h1>
<p style="font-size:1.5rem;font-weight:500;margin-bottom:8px;color:var(--t)">Интеллектуальная система видеоаналитики</p>
<p class="sub" style="text-align:center;margin:0 auto 30px">Dual-AI движок: YOLO real-time детекция + Google Gemini анализ сцен. 12 эндпоинтов ML, 17+ страниц управления, мгновенные уведомления. Всё на вашем сервере, без облака.</p>
<div style="display:flex;gap:40px;margin-top:10px">
<div style="text-align:center"><div style="font-size:2.5rem;font-weight:900;background:linear-gradient(135deg,var(--pl),var(--ac));-webkit-background-clip:text;-webkit-text-fill-color:transparent">12</div><div style="font-size:.78rem;color:var(--tm);text-transform:uppercase;letter-spacing:1px;font-weight:500">ML-эндпоинтов</div></div>
<div style="text-align:center"><div style="font-size:2.5rem;font-weight:900;background:linear-gradient(135deg,var(--pl),var(--ac));-webkit-background-clip:text;-webkit-text-fill-color:transparent">17+</div><div style="font-size:.78rem;color:var(--tm);text-transform:uppercase;letter-spacing:1px;font-weight:500">Страниц</div></div>
<div style="text-align:center"><div style="font-size:2.5rem;font-weight:900;background:linear-gradient(135deg,var(--pl),var(--ac));-webkit-background-clip:text;-webkit-text-fill-color:transparent">6</div><div style="font-size:.78rem;color:var(--tm);text-transform:uppercase;letter-spacing:1px;font-weight:500">Типов бизнеса</div></div>
<div style="text-align:center"><div style="font-size:2.5rem;font-weight:900;background:linear-gradient(135deg,var(--pl),var(--ac));-webkit-background-clip:text;-webkit-text-fill-color:transparent">10+</div><div style="font-size:.78rem;color:var(--tm);text-transform:uppercase;letter-spacing:1px;font-weight:500">Интеграций</div></div>
</div>
</div>

<!-- S1: Problem -->
<div class="slide" data-slide="1">
<span class="sn">01 / Проблема</span>
<h2>У бизнеса есть камеры. <span class="gr">Но нет аналитики.</span></h2>
<p class="sub" style="margin-bottom:24px">По данным исследований, <strong>95% записей с камер видеонаблюдения никогда не просматриваются</strong>. Охранник физически не может одновременно следить за 10+ экранами. Инциденты обнаруживаются постфактум.</p>
<div class="cg cg3">
<div class="cd">
<div style="font-size:32px;margin-bottom:12px">&#x23F0;</div>
<h4>Реактивный подход</h4>
<p>Кража, проникновение, очередь, пожар &#x2014; всё обнаруживается <strong style="color:var(--err)">после факта</strong>. Записи смотрят только после жалобы клиента или недостачи.</p>
</div>
<div class="cd">
<div style="font-size:32px;margin-bottom:12px">&#x1F441;</div>
<h4>Человеческий фактор</h4>
<p>Внимание оператора <strong style="color:var(--warn)">падает через 20 минут</strong>. При 10+ камерах эффективность мониторинга не превышает 5%.</p>
</div>
<div class="cd">
<div style="font-size:32px;margin-bottom:12px">&#x1F4B0;</div>
<h4>Дорогие решения</h4>
<p>Коммерческие аналитики стоят <strong style="color:var(--warn)">$500&#x2013;5000/мес</strong>. Требуют GPU-серверы или отправляют видео в облако.</p>
</div>
</div>
<div class="explain" style="margin-top:20px;max-width:1100px">
<p><span class="hl">CamAI решает эту проблему:</span> два ИИ-движка работают параллельно &#x2014; YOLO v8 для мгновенной детекции объектов (&#x003C;100ms) и Google Gemini для глубокого анализа сцен. Без облака, на локальном сервере за $150.</p>
</div>
</div>

<!-- S2: Dual AI Pipeline -->
<div class="slide" data-slide="2">
<span class="sn">02 / Dual-AI движок</span>
<h2>YOLO + Gemini: <span class="gr">два ИИ работают вместе</span></h2>
<p class="sub" style="margin-bottom:20px">CamAI использует двухуровневый подход к анализу видеопотока.</p>
<div class="twocol" style="max-width:1100px">
<div>
<div class="cd" style="border-left:3px solid var(--warn);margin-bottom:16px">
<h4 style="color:var(--warn)">&#x26A1; Уровень 1: YOLO v8 Real-time</h4>
<p style="margin-bottom:10px">Python FastAPI сервис на порту 8001. Инференс ~50ms на CPU.</p>
<div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:8px">
<span class="tbadge pass">&#x2713; Детекция объектов</span>
<span class="tbadge pass">&#x2713; Подсчёт людей</span>
<span class="tbadge pass">&#x2713; Тепловые карты</span>
<span class="tbadge pass">&#x2713; PPE (каски/жилеты)</span>
<span class="tbadge pass">&#x2713; Огонь/дым</span>
<span class="tbadge pass">&#x2713; Номера авто (OCR)</span>
<span class="tbadge pass">&#x2713; ReID (192-dim)</span>
<span class="tbadge pass">&#x2713; Анализ полок</span>
<span class="tbadge pass">&#x2713; Аудио-аналитика</span>
<span class="tbadge pass">&#x2713; Поведение</span>
<span class="tbadge pass">&#x2713; Dewarp</span>
</div>
</div>
<div class="cd" style="border-left:3px solid var(--ac2)">
<h4 style="color:var(--ac2)">&#x1F9E0; Уровень 2: Google Gemini</h4>
<p style="margin-bottom:10px">Глубокий анализ контекста. Понимает сцену целиком, описывает инциденты текстом.</p>
<div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:8px">
<span class="tbadge pass">&#x2713; Описание сцены</span>
<span class="tbadge pass">&#x2713; Severity-оценка</span>
<span class="tbadge pass">&#x2713; Контекстные промпты</span>
<span class="tbadge pass">&#x2713; Abandoned objects</span>
<span class="tbadge pass">&#x2713; Fall detection</span>
<span class="tbadge pass">&#x2713; Tamper detection</span>
</div>
</div>
</div>
<div>
<h3 style="margin-bottom:12px">Пайплайн обработки</h3>
<div style="display:flex;flex-direction:column;gap:8px">
<div class="pipe-box" style="background:rgba(99,102,241,.08);border-color:var(--p)">&#x1F4F7; IP-камера (RTSP/MJPEG/HLS)</div>
<div style="text-align:center;color:var(--pl);font-weight:700">&#x2193;</div>
<div class="pipe-box" style="background:rgba(245,158,11,.08);border-color:var(--warn)">&#x26A1; CameraMonitor &#x2192; fetchSnapshot</div>
<div style="text-align:center;color:var(--pl);font-weight:700">&#x2193;</div>
<div style="display:flex;gap:8px">
<div class="pipe-box" style="flex:1;background:rgba(245,158,11,.12);border-color:var(--warn)">YOLO v8n<br><span style="font-size:.7rem;color:var(--tm)">~50ms / кадр</span></div>
<div class="pipe-box" style="flex:1;background:rgba(139,92,246,.12);border-color:var(--ac2)">Gemini AI<br><span style="font-size:.7rem;color:var(--tm)">2&#x2013;5s / кадр</span></div>
</div>
<div style="text-align:center;color:var(--pl);font-weight:700">&#x2193;</div>
<div class="pipe-box" style="background:rgba(16,185,129,.08);border-color:var(--ok)">&#x1F514; SSE Events &#x2192; Telegram / Slack / Email</div>
</div>
<div style="margin-top:16px;padding:12px;background:var(--card);border:1px solid var(--border);border-radius:10px">
<div style="font-size:.85rem;font-weight:700;margin-bottom:6px">SmartFeaturesEngine</div>
<div style="font-size:.8rem;color:var(--tm);line-height:1.6">YOLO-детекции + яркость кадра подаются в SmartFeaturesEngine, который в реальном времени вычисляет: abandoned objects (трекинг), fall detection (aspect ratio bbox), tamper detection (яркость + анализ кадра).</div>
</div>
</div>
</div>
</div>

<!-- S3: Detection Service -->
<div class="slide" data-slide="3">
<span class="sn">03 / Detection Service</span>
<h2>12 ML-эндпоинтов <span class="gr">из коробки</span></h2>
<p class="sub" style="margin-bottom:16px">Python FastAPI + YOLOv8n. Все эндпоинты протестированы на реальных данных.</p>
<div class="cg cg4" style="max-width:1200px">
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F3AF; /detect</h4><span class="tbadge pass">10/10</span></div>
<p style="font-size:.8rem">YOLO-детекция объектов. 80 классов COCO. Люди: conf 0.47&#x2013;0.86</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F525; /detect-fire</h4><span class="tbadge pass">PASS</span></div>
<p style="font-size:.8rem">Огонь/дым через HSV-фильтрацию. Conf 0.49, 3 региона</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F697; /detect-plates</h4><span class="tbadge pass">PASS</span></div>
<p style="font-size:.8rem">YOLO + EasyOCR. Распознавание номерных знаков автомобилей</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F6E1; /detect-ppe</h4><span class="tbadge pass">PASS</span></div>
<p style="font-size:.8rem">Каски и жилеты через HSV-анализ hi-vis цветов</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F4E6; /detect-shelf</h4><span class="tbadge pass">100%</span></div>
<p style="font-size:.8rem">Наполненность полок. Edge density + texture + color variance</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F464; /extract-features</h4><span class="tbadge pass">192-dim</span></div>
<p style="font-size:.8rem">ReID: HSV-гистограммы + HOG &#x2192; 192-мерный вектор</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F517; /match-persons</h4><span class="tbadge pass">cos=1.0</span></div>
<p style="font-size:.8rem">Cross-camera matching. Cosine similarity. Self-match: 1.000</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F3A4; /analyze-audio</h4><span class="tbadge pass">PASS</span></div>
<p style="font-size:.8rem">FFT-анализ аудио. Выстрел, крик, стекло, сирена</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F6B6; /analyze-behavior</h4><span class="tbadge pass">PASS</span></div>
<p style="font-size:.8rem">Анализ поведения, скорости, плотности толпы</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F4F9; /stream/mjpeg</h4><span class="tbadge pass">LIVE</span></div>
<p style="font-size:.8rem">MJPEG поток с bounding boxes в реальном времени</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F50D; /dewarp</h4><span class="tbadge pass">PASS</span></div>
<p style="font-size:.8rem">Коррекция fisheye-искажений. Barrel distortion removal</p>
</div>
<div class="cd" style="padding:16px">
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px"><h4 style="font-size:.9rem">&#x1F4CA; /stream/counts</h4><span class="tbadge pass">SSE</span></div>
<p style="font-size:.8rem">Real-time подсчёт людей через Server-Sent Events</p>
</div>
</div>
</div>

<!-- S4: Dashboard -->
<div class="slide" data-slide="4">
<span class="sn">04 / Главный экран</span>
<div class="twocol r55">
<div>
<h2>Дашборд: <span class="gr">всё на одном экране</span></h2>
<p class="sub2" style="margin-bottom:16px">Главный экран CamAI с живым YOLO-детекцией на canvas overlay.</p>
<ul class="fl">
<li><span class="ck">&#x2713;</span><div class="ft"><strong>YOLO Detection Overlay</strong><span>Bounding boxes рисуются на HTML Canvas поверх видеопотока в реальном времени. Классы: person, car, truck, bicycle и 80 других</span></div></li>
<li><span class="ck">&#x2713;</span><div class="ft"><strong>SSE Event Stream</strong><span>Server-Sent Events доставляют детекции в браузер. Карточки статистики обновляются мгновенно: камеры, люди, события</span></div></li>
<li><span class="ck">&#x2713;</span><div class="ft"><strong>Лента событий</strong><span>Цветовая кодировка: красный = критическое, жёлтый = предупреждение, синий = информационное. Автоматическая очистка по TTL</span></div></li>
<li><span class="ck">&#x2713;</span><div class="ft"><strong>AI Chat ассистент</strong><span>Встроенный чат с ИИ для вопросов о системе, камерах и событиях. Gemini анализирует контекст установки</span></div></li>
</ul>
</div>
<div>
<div class="mockup">
<div class="mock-bar"><div class="mock-dot r"></div><div class="mock-dot y"></div><div class="mock-dot g"></div><div class="mock-url">camai.local/dashboard</div></div>
<div style="display:flex">
<div class="mock-sidebar">
<div style="width:28px;height:28px;border-radius:7px;background:linear-gradient(135deg,#6366f1,#06b6d4);margin-bottom:8px"></div>
<div class="si active">&#x1F4CA;</div>
<div class="si">&#x1F3E2;</div>
<div class="si">&#x1F4F7;</div>
<div class="si">&#x1F50D;</div>
<div class="si">&#x1F697;</div>
<div class="si">&#x1F4C8;</div>
<div class="si">&#x1F517;</div>
<div class="si">&#x2699;</div>
</div>
<div class="mock-content" style="background:#0a0a1a">
<div style="font-size:13px;font-weight:700;margin-bottom:10px">Дашборд <span style="color:var(--tm);font-weight:400;font-size:10px">Розничный магазин</span></div>
<div class="mstat">
<div class="mstat-c"><div class="icon" style="background:rgba(16,185,129,.12)">&#x1F4F7;</div><div class="val" style="color:var(--ok)">3/4</div><div class="lbl">Камеры онлайн</div></div>
<div class="mstat-c"><div class="icon" style="background:rgba(59,130,246,.12)">&#x1F465;</div><div class="val" style="color:#3b82f6">47</div><div class="lbl">YOLO: люди</div></div>
<div class="mstat-c"><div class="icon" style="background:rgba(239,68,68,.12)">&#x26A0;</div><div class="val" style="color:var(--err)">2</div><div class="lbl">Критические</div></div>
<div class="mstat-c"><div class="icon" style="background:rgba(245,158,11,.12)">&#x26A1;</div><div class="val" style="color:var(--warn)">~50ms</div><div class="lbl">YOLO latency</div></div>
</div>
<div style="display:grid;grid-template-columns:2fr 1fr;gap:10px">
<div>
<div style="font-size:10px;font-weight:600;margin-bottom:6px">Камеры <span style="color:var(--ok);font-weight:700;font-size:8px">YOLO ACTIVE</span></div>
<div class="mcam-grid">
<div class="mcam"><div class="bg" style="background:linear-gradient(135deg,#1a2332,#0d1521)"></div><div class="badge live">LIVE</div><div class="badge ai">&#x1F3AF; YOLO</div><div class="overlay"><span>Вход &bull; 8 person</span></div></div>
<div class="mcam" style="border-color:var(--ok);box-shadow:0 0 8px rgba(16,185,129,.2)"><div class="bg" style="background:linear-gradient(135deg,#1a2832,#0d1d21)"></div><div class="badge live">LIVE</div><div class="badge ai">&#x1F3AF; YOLO</div><div class="overlay"><span>Касса-1 &bull; 3 person, 1 car</span></div></div>
<div class="mcam"><div class="bg" style="background:linear-gradient(135deg,#1a2332,#151525)"></div><div class="badge live">LIVE</div><div class="overlay"><span>Склад &bull; 0 detections</span></div></div>
<div class="mcam"><div class="bg" style="background:linear-gradient(135deg,#2a1a1a,#1a0d0d)"></div><div class="badge off">OFFLINE</div><div class="overlay"><span>Парковка &bull; &#x2014;</span></div></div>
</div>
</div>
<div>
<div style="font-size:10px;font-weight:600;margin-bottom:6px">&#x1F6E1; Smart Events</div>
<div class="mev">
<div class="mev-i"><div class="dot crit"></div><div class="txt"><div class="d">&#x1F525; Огонь обнаружен (conf: 0.49)</div><div class="m">Склад &bull; 2 мин</div></div></div>
<div class="mev-i"><div class="dot warn"></div><div class="txt"><div class="d">&#x1F6E1; PPE нарушение: нет каски</div><div class="m">Цех &bull; 8 мин</div></div></div>
<div class="mev-i"><div class="dot info"></div><div class="txt"><div class="d">&#x1F465; Подсчёт: 12 за час</div><div class="m">Вход &bull; 15 мин</div></div></div>
<div class="mev-i"><div class="dot warn"></div><div class="txt"><div class="d">&#x1F4E6; Полка A3 пуста (28%)</div><div class="m">Торг. зал &bull; 23 мин</div></div></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- S5: AI Analysis by Venue -->
<div class="slide" data-slide="5">
<span class="sn">05 / ИИ-аналитика</span>
<h2>Что <span class="gr">анализирует ИИ</span> для каждого бизнеса</h2>
<p class="sub" style="margin-bottom:20px">6 типов бизнеса &#x2014; каждый со своим набором ИИ-функций. При первом входе пользователь выбирает тип, и система активирует подходящий набор.</p>
<div class="cg cg3" style="max-width:1100px">
<div class="cd"><div style="font-size:28px;margin-bottom:8px">&#x1F6D2;</div><h4>Розничный магазин</h4><p><strong>YOLO:</strong> подсчёт посетителей, тепловые карты, детекция краж, очереди<br><strong>Gemini:</strong> описание инцидентов, abandoned objects<br><strong>Расширенное:</strong> мониторинг полок, демография</p></div>
<div class="cd"><div style="font-size:28px;margin-bottom:8px">&#x1F3ED;</div><h4>Склад / Производство</h4><p><strong>YOLO:</strong> PPE-детекция (каски, жилеты), fire/smoke<br><strong>Gemini:</strong> контроль зон доступа, fall detection<br><strong>Расширенное:</strong> LPR для транспорта, поведение</p></div>
<div class="cd"><div style="font-size:28px;margin-bottom:8px">&#x1F37D;</div><h4>Ресторан / Кафе</h4><p><strong>YOLO:</strong> заполненность столов, подсчёт, персонал<br><strong>Gemini:</strong> гигиена кухни, время обслуживания<br><strong>Расширенное:</strong> аудио (крик, стекло)</p></div>
<div class="cd"><div style="font-size:28px;margin-bottom:8px">&#x1F3E2;</div><h4>Офис</h4><p><strong>YOLO:</strong> посещаемость, загрузка переговорок<br><strong>Gemini:</strong> охранные оповещения, tamper detection<br><strong>Расширенное:</strong> cross-camera tracking</p></div>
<div class="cd"><div style="font-size:28px;margin-bottom:8px">&#x1F3E6;</div><h4>Банк / Финансы</h4><p><strong>YOLO:</strong> подсчёт, детекция лиц, очереди<br><strong>Gemini:</strong> подозрительное поведение, скиммеры<br><strong>Расширенное:</strong> аудио (выстрел, крик)</p></div>
<div class="cd"><div style="font-size:28px;margin-bottom:8px">&#x1F697;</div><h4>Парковка</h4><p><strong>YOLO:</strong> детекция ТС (car, truck, bus, motorcycle)<br><strong>EasyOCR:</strong> распознавание номеров (LPR)<br><strong>Расширенное:</strong> поток, dewarp для fisheye</p></div>
</div>
</div>

<!-- S6: Smart Detectors -->
<div class="slide" data-slide="6">
<span class="sn">06 / Smart Detectors</span>
<h2>Умные детекторы: <span class="gr">7 типов угроз</span></h2>
<p class="sub" style="margin-bottom:20px">SmartFeaturesEngine работает в реальном времени, принимая YOLO-детекции и яркость кадра.</p>
<div class="cg cg3" style="max-width:1100px">
<div class="cd" style="border-left:3px solid var(--err)">
<h4>&#x1F525; Огонь и дым</h4>
<p>HSV-фильтрация в цветовом пространстве. Обнаружение огненных/дымовых пикселей по характерным диапазонам H/S/V. Conf до 0.49 на тестах.</p>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Протестировано</span></div>
</div>
<div class="cd" style="border-left:3px solid var(--warn)">
<h4>&#x1F6E1; PPE (каски, жилеты)</h4>
<p>Анализ областей головы (верхние 25% bbox) и торса (25-60% bbox) на наличие hi-vis цветов: жёлтый, оранжевый, белый.</p>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Протестировано</span></div>
</div>
<div class="cd" style="border-left:3px solid var(--ac)">
<h4>&#x1F6B6; Падение человека</h4>
<p>Анализ aspect ratio bounding box. Когда ширина > высоты (человек лежит) &#x2014; генерируется fall_detected событие.</p>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Gemini + YOLO</span></div>
</div>
<div class="cd" style="border-left:3px solid var(--ac2)">
<h4>&#x1F4E6; Оставленный предмет</h4>
<p>Трекинг объектов по кадрам. Если объект не двигается N секунд &#x2014; abandoned_object alert. Фильтрация по классу (не person).</p>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; SmartFeatures</span></div>
</div>
<div class="cd" style="border-left:3px solid #3b82f6">
<h4>&#x1F4F7; Tamper Detection</h4>
<p>Анализ яркости кадра + резких изменений. Обнаруживает закрытие, поворот или расфокусировку камеры.</p>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Frame analysis</span></div>
</div>
<div class="cd" style="border-left:3px solid var(--ok)">
<h4>&#x1F3A4; Аудио-события</h4>
<p>FFT спектральный анализ. Классификация: выстрел, крик, стекло, сирена, громкий звук. RMS dB + spectral centroid.</p>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Протестировано</span></div>
</div>
</div>
</div>

<!-- S7: Advanced Features -->
<div class="slide" data-slide="7">
<span class="sn">07 / Продвинутые функции</span>
<h2>Cross-Camera, LPR, <span class="gr">Shelf Monitoring</span></h2>
<p class="sub" style="margin-bottom:20px">Функции уровня enterprise, доступные из коробки.</p>
<div class="cg cg2" style="max-width:1100px">
<div class="cd" style="border-left:3px solid var(--ac)">
<h4>&#x1F517; Cross-Camera Tracking</h4>
<p style="margin-bottom:10px">Отслеживание одного человека через несколько камер.</p>
<div style="font-size:.85rem;line-height:1.7">
<strong>Как работает:</strong><br>
1. YOLO находит людей на каждой камере<br>
2. Для каждого person извлекается 192-мерный вектор (HSV histograms + HOG)<br>
3. Cosine similarity между векторами с разных камер<br>
4. Threshold &#x2265; 0.7 &#x2192; это тот же человек
</div>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Self-match: similarity = 1.000</span></div>
</div>
<div class="cd" style="border-left:3px solid var(--warn)">
<h4>&#x1F697; Распознавание номеров (LPR)</h4>
<p style="margin-bottom:10px">YOLO детекция ТС &#x2192; crop нижних 60% &#x2192; EasyOCR.</p>
<div style="font-size:.85rem;line-height:1.7">
<strong>Пайплайн:</strong><br>
1. YOLO находит car/truck/bus (VEHICLE_CLASSES)<br>
2. Обрезка до нижних 60% ТС (зона номера)<br>
3. Bilатеральный фильтр + grayscale<br>
4. EasyOCR &#x2192; regex-фильтр PLATE_PATTERN<br>
5. Дедупликация по тексту
</div>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; EasyOCR integrated</span></div>
</div>
<div class="cd" style="border-left:3px solid var(--ok)">
<h4>&#x1F4E6; Мониторинг полок</h4>
<p style="margin-bottom:10px">Оценка наполненности полок через компьютерное зрение.</p>
<div style="font-size:.85rem;line-height:1.7">
<strong>Метрики:</strong><br>
&#x2022; Edge density (Canny) &#x2014; текстура продуктов<br>
&#x2022; Color variance (HSV) &#x2014; разнообразие цветов<br>
&#x2022; Texture variance (Laplacian) &#x2014; наличие объектов<br>
&#x2022; Результат: 0&#x2013;100%, статус: full/partial/low/empty
</div>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Тест: 100% fullness на заполненной полке</span></div>
</div>
<div class="cd" style="border-left:3px solid var(--ac2)">
<h4>&#x1F3A4; Аудио-аналитика</h4>
<p style="margin-bottom:10px">Классификация звуковых событий через FFT-анализ.</p>
<div style="font-size:.85rem;line-height:1.7">
<strong>Детекция:</strong><br>
&#x2022; gunshot &#x2014; резкий пик + high-frequency<br>
&#x2022; scream &#x2014; sustained high-RMS, mid-freq<br>
&#x2022; glass_break &#x2014; high-freq burst<br>
&#x2022; alarm/siren &#x2014; periodic tonal pattern<br>
&#x2022; loud_sound &#x2014; RMS > threshold
</div>
<div style="margin-top:8px"><span class="tbadge pass">&#x2713; Тест: loud_sound (0.70), centroid=1000Hz</span></div>
</div>
</div>
</div>

<!-- S8: Pages Overview -->
<div class="slide" data-slide="8">
<span class="sn">08 / Страницы платформы</span>
<h2>17+ страниц <span class="gr">управления и аналитики</span></h2>
<div class="cg cg4" style="max-width:1200px;margin-top:12px">
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4CA;</div><h4 style="font-size:.85rem">Дашборд</h4><p style="font-size:.75rem">KPI, камеры, события</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F3E2;</div><h4 style="font-size:.85rem">Филиалы</h4><p style="font-size:.75rem">Мультилокация</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4F7;</div><h4 style="font-size:.85rem">Камеры</h4><p style="font-size:.75rem">ONVIF, RTSP, PTZ</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4FA;</div><h4 style="font-size:.85rem">Видеостена</h4><p style="font-size:.75rem">Multi-camera grid</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F5FA;</div><h4 style="font-size:.85rem">Карта объекта</h4><p style="font-size:.75rem">Расположение камер</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4FC;</div><h4 style="font-size:.85rem">Видеоархив</h4><p style="font-size:.75rem">HLS записи</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F464;</div><h4 style="font-size:.85rem">Поиск людей</h4><p style="font-size:.75rem">Face-api.js ReID</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F697;</div><h4 style="font-size:.85rem">LPR</h4><p style="font-size:.75rem">Номерные знаки</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4C8;</div><h4 style="font-size:.85rem">Аналитика</h4><p style="font-size:.75rem">Отчёты, экспорт</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F50D;</div><h4 style="font-size:.85rem">Поиск объектов</h4><p style="font-size:.75rem">Архив + уникальные</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x2699;</div><h4 style="font-size:.85rem">Автоматизация</h4><p style="font-size:.75rem">if-then правила</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4DD;</div><h4 style="font-size:.85rem">Аудит</h4><p style="font-size:.75rem">Системные логи</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4BE;</div><h4 style="font-size:.85rem">Хранилище</h4><p style="font-size:.75rem">Управление записями</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F3E5;</div><h4 style="font-size:.85rem">Диагностика</h4><p style="font-size:.75rem">Health monitoring</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F517;</div><h4 style="font-size:.85rem">Интеграции</h4><p style="font-size:.75rem">TG, Slack, 1C, ...</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F4E6;</div><h4 style="font-size:.85rem">Полки</h4><p style="font-size:.75rem">Наполненность</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F3A4;</div><h4 style="font-size:.85rem">Аудио</h4><p style="font-size:.75rem">Звуковые события</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F504;</div><h4 style="font-size:.85rem">Failover</h4><p style="font-size:.75rem">HA серверов</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x1F511;</div><h4 style="font-size:.85rem">Лицензии</h4><p style="font-size:.75rem">HMAC-SHA256</p></div>
<div class="cd" style="padding:14px;text-align:center"><div style="font-size:24px;margin-bottom:6px">&#x2699;</div><h4 style="font-size:.85rem">Настройки</h4><p style="font-size:.75rem">Профиль, тема</p></div>
</div>
</div>

<!-- S9: Integrations -->
<div class="slide" data-slide="9">
<span class="sn">09 / Интеграции и уведомления</span>
<h2 style="text-align:center">10+ каналов <span class="gr">уведомлений</span></h2>
<p class="sub" style="text-align:center;margin:0 auto 20px">NotificationDispatcher поддерживает все основные каналы. AutomationEngine связывает события с действиями.</p>
<div class="cg cg2" style="max-width:1000px;margin:0 auto">
<div class="cd" style="border-left:3px solid #0088cc">
<h4>&#x2708; Telegram &#x2014; основной канал</h4>
<p style="margin-bottom:10px">Мгновенные уведомления с описанием инцидента, камерой, временем, серьёзностью.</p>
<p><strong>Подключение:</strong> @BotFather &#x2192; токен &#x2192; /start в боте &#x2192; Подключить в CamAI</p>
</div>
<div class="cd">
<h4>&#x1F4E7; Email (Nodemailer v7)</h4>
<p>SMTP уведомления через NotificationDispatcher. Шаблоны для каждого типа события. Поддержка HTML-писем с деталями инцидента.</p>
</div>
<div class="cd">
<h4>&#x1F4AC; Slack + Webhooks</h4>
<p>Slack Incoming Webhooks в каналы команды. Универсальные HTTP POST webhooks для интеграции с любой системой.</p>
</div>
<div class="cd">
<h4>&#x1F3E2; Бизнес-системы</h4>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:6px;margin-top:8px">
<div style="padding:6px;background:var(--card2);border-radius:6px;font-size:.82rem"><strong>1C</strong> &#x2014; ERP</div>
<div style="padding:6px;background:var(--card2);border-radius:6px;font-size:.82rem"><strong>Bitrix24</strong> &#x2014; CRM</div>
<div style="padding:6px;background:var(--card2);border-radius:6px;font-size:.82rem"><strong>iiko</strong> &#x2014; POS</div>
<div style="padding:6px;background:var(--card2);border-radius:6px;font-size:.82rem"><strong>MQTT</strong> &#x2014; IoT</div>
</div>
</div>
</div>
<div class="explain" style="max-width:1000px;margin:16px auto 0">
<p><span class="hl">AutomationEngine:</span> if-then правила &#x2014; «Когда fire_detected &#x2192; notify_telegram + notify_email». Поддерживаемые events: motion_detected, person_detected, fire_detected, fall_detected, ppe_violation, queue_threshold, shelf_empty и другие.</p>
</div>
</div>

<!-- S10: Architecture -->
<div class="slide center" data-slide="10">
<span class="sn">10 / Архитектура</span>
<h2>Техническая <span class="gr">архитектура</span></h2>
<div class="arch" style="margin:16px auto;max-width:950px">
<div class="arch-row">
<div class="arch-box cli">&#x1F4F1; Браузер (Next.js 15)</div>
<div style="color:var(--tm);font-size:1rem">SSE / REST</div>
<div class="arch-box cen">&#x1F310; CamAI Server<br><span style="font-size:.75rem;color:var(--tm)">Next.js + Prisma + SQLite</span></div>
</div>
<div class="arch-lbl">&#x2191; REST API &#x2191;</div>
<div class="arch-row">
<div class="arch-box det">&#x26A1; Detection Service<br><span style="font-size:.75rem;color:var(--tm)">Python FastAPI + YOLOv8n<br>Port 8001 | 12 endpoints</span></div>
<div class="arch-box sat">&#x1F4F7; IP Cameras<br><span style="font-size:.75rem;color:var(--tm)">RTSP / ONVIF / HLS<br>Hikvision, Dahua, ...</span></div>
<div class="arch-box" style="background:rgba(139,92,246,.12);border-color:rgba(139,92,246,.3)">&#x1F9E0; Google Gemini<br><span style="font-size:.75rem;color:var(--tm)">Scene analysis<br>Context prompts</span></div>
</div>
<div class="arch-lbl">&#x2191; Webhooks / SMTP / Bot API &#x2191;</div>
<div class="arch-row">
<div class="arch-box cli">&#x2708; Telegram</div>
<div class="arch-box cli">&#x1F4AC; Slack</div>
<div class="arch-box cli">&#x1F4E7; Email</div>
<div class="arch-box cli">&#x1F310; Webhooks</div>
</div>
</div>
<div style="display:flex;gap:20px;margin-top:16px;justify-content:center;flex-wrap:wrap">
<div style="padding:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:10px;font-size:.85rem"><strong>Frontend:</strong> Next.js 15, Tailwind v4, shadcn/ui, Zustand</div>
<div style="padding:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:10px;font-size:.85rem"><strong>Detection:</strong> Python 3.11, FastAPI, YOLOv8n, OpenCV, EasyOCR</div>
<div style="padding:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:10px;font-size:.85rem"><strong>DB:</strong> Prisma ORM + SQLite (или PostgreSQL)</div>
<div style="padding:10px 16px;background:var(--card);border:1px solid var(--border);border-radius:10px;font-size:.85rem"><strong>Auth:</strong> NextAuth.js + JWT + bcrypt</div>
</div>
</div>

<!-- S11: Failover & Licensing -->
<div class="slide" data-slide="11">
<span class="sn">11 / Enterprise</span>
<h2>Failover и <span class="gr">лицензирование</span></h2>
<div class="twocol" style="max-width:1100px">
<div>
<h3>&#x1F504; FailoverManager</h3>
<p class="sub2" style="margin-bottom:12px">Высокая доступность с автоматическим переключением на резервный сервер.</p>
<ul class="fl">
<li><span class="ck">&#x2713;</span><div class="ft"><strong>Health Check State Machine</strong><span>online &#x2192; degraded &#x2192; offline. Проверка каждые N секунд. consecutiveFailures tracking.</span></div></li>
<li><span class="ck">&#x2713;</span><div class="ft"><strong>Auto-Promote</strong><span>Когда primary падает &#x2014; автоматическое повышение backup до primary. EventEmitter уведомляет все сервисы.</span></div></li>
<li><span class="ck">&#x2713;</span><div class="ft"><strong>API управления</strong><span>POST /api/failover &#x2014; регистрация серверов. PUT &#x2014; promote, remove, check. Полная история healthHistory.</span></div></li>
</ul>
</div>
<div>
<h3>&#x1F511; LicenseManager</h3>
<p class="sub2" style="margin-bottom:12px">Офлайн-лицензирование с криптографической валидацией.</p>
<ul class="fl">
<li><span class="ck">&#x2713;</span><div class="ft"><strong>HMAC-SHA256 ключи</strong><span>Формат: XXXXX-XXXXX-XXXXX-XXXXX. Содержит: edition, maxCameras, org, expiresAt. Checksum валидация.</span></div></li>
<li><span class="ck">&#x2713;</span><div class="ft"><strong>Редакции</strong><span>Community (бесплатно, 4 камеры), Professional ($15/камера), Enterprise ($25/камера, неограничено).</span></div></li>
<li><span class="ck">&#x2713;</span><div class="ft"><strong>Instance binding</strong><span>Лицензия привязана к instanceId сервера. Disk persistence в файловой системе. Проверка expiry при старте.</span></div></li>
</ul>
</div>
</div>
</div>

<!-- S12: Multi-branch -->
<div class="slide center" data-slide="12">
<span class="sn">12 / Мультифилиальность</span>
<h2>Одна панель для <span class="gr">всех филиалов</span></h2>
<p class="sub" style="text-align:center;margin:0 auto 20px">Архитектура «Центральный сервер + Спутники». Каждый филиал работает автономно, данные агрегируются на одном дашборде.</p>
<div class="arch" style="margin:0 auto">
<div class="arch-row"><div class="arch-box cli">&#x1F4F1; Владелец (PWA)</div><div style="color:var(--tm);font-size:1.2rem">&#x2192;</div><div class="arch-box cen">&#x1F310; Центральный сервер<br><span style="font-size:.75rem;color:var(--tm)">romashka.camvision.com</span></div></div>
<div class="arch-lbl">&#x2191; SyncWorker push каждые 5 мин &#x2191;</div>
<div class="arch-row"><div class="arch-box sat">&#x1F4E1; Алмазар<br><span style="font-size:.75rem;color:var(--tm)">3 камеры + YOLO</span></div><div class="arch-box sat">&#x1F4E1; Чиланзар<br><span style="font-size:.75rem;color:var(--tm)">4 камеры + YOLO</span></div><div class="arch-box sat">&#x1F4E1; Юнусабад<br><span style="font-size:.75rem;color:var(--tm)">5 камер + YOLO</span></div></div>
</div>
<div class="explain" style="max-width:900px;margin:16px auto 0">
<p><span class="hl">SyncWorker:</span> на каждом филиале стоит мини-сервер с CamAI + Detection Service. Каждые 5 минут sync worker отправляет события и статистику на центральный сервер. Если интернет пропал &#x2014; данные копятся в очереди и отправляются при восстановлении.</p>
</div>
</div>

<!-- S13: Installation -->
<div class="slide" data-slide="13">
<span class="sn">13 / Установка и деплой</span>
<h2>Docker Compose: <span class="gr">одна команда</span></h2>
<p class="sub" style="margin-bottom:16px">Два контейнера: Next.js app + Detection Service. Let's Encrypt SSL, автообновления.</p>
<div class="code">
<span class="cm"># Клонируем и запускаем</span><br>
<span class="cmd">git</span> clone https://github.com/asilbektilavov/cam-ai.git<br>
<span class="cmd">cd</span> cam-ai<br>
<span class="cmd">docker-compose</span> <span class="fl">-f</span> docker-compose.saas.yml <span class="fl">up</span> <span class="vl">-d</span><br><br>
<span class="cm"># Или для продакшена с SSL (Let's Encrypt)</span><br>
<span class="cmd">docker-compose</span> <span class="fl">-f</span> docker-compose.saas.yml <span class="fl">up</span> <span class="vl">-d</span> \<br>
&nbsp;&nbsp;<span class="fl">DOMAIN</span>=<span class="vl">89-167-37-116.nip.io</span> \<br>
&nbsp;&nbsp;<span class="fl">ACME_EMAIL</span>=<span class="vl">camai-ssl@proton.me</span><br><br>
<span class="cm"># Detection Service запускается отдельно</span><br>
<span class="cmd">cd</span> detection-service<br>
<span class="cmd">pip</span> install -r requirements.txt<br>
<span class="cmd">uvicorn</span> main:app <span class="fl">--host</span> <span class="vl">0.0.0.0</span> <span class="fl">--port</span> <span class="vl">8001</span>
</div>
<div class="explain" style="max-width:800px">
<p><span class="hl">Продакшен:</span> Hetzner сервер (89.167.37.116), Let's Encrypt SSL через nip.io домен, Docker Compose с healthcheck, автобэкап SQLite в 3:00 AM.</p>
</div>
</div>

<!-- S14: Security -->
<div class="slide" data-slide="14">
<span class="sn">14 / Безопасность</span>
<div class="twocol" style="max-width:1100px">
<div>
<h2><span class="gr">Безопасность</span></h2>
<p class="sub2" style="margin-bottom:14px">Все данные на вашем сервере. Видео не уходит в облако. Gemini получает только отдельные кадры.</p>
<div class="sec-grid" style="max-width:100%">
<div class="sec-i"><div class="sec-ic">&#x1F512;</div><div><h5>NextAuth.js + bcrypt</h5><p>JWT сессии, хешированные пароли</p></div></div>
<div class="sec-i"><div class="sec-ic">&#x1F4BE;</div><div><h5>Prisma + SQLite</h5><p>Локальная БД, без внешних зависимостей</p></div></div>
<div class="sec-i"><div class="sec-ic">&#x1F510;</div><div><h5>HTTPS/TLS</h5><p>Let's Encrypt сертификаты</p></div></div>
<div class="sec-i"><div class="sec-ic">&#x1F6E1;</div><div><h5>RBAC</h5><p>Роли: admin, operator, viewer</p></div></div>
<div class="sec-i"><div class="sec-ic">&#x1F504;</div><div><h5>Audit Logger</h5><p>Полный лог всех действий</p></div></div>
<div class="sec-i"><div class="sec-ic">&#x1F5DD;</div><div><h5>X-Sync-Key</h5><p>Аутентификация между филиалами</p></div></div>
</div>
</div>
<div>
<h2>Стоимость <span class="gr">владения</span></h2>
<p class="sub2" style="margin-bottom:14px">Минимальные расходы:</p>
<div class="price-r"><span class="price-l">Мини-сервер (ARM/x86)</span><span style="font-weight:700;color:var(--tm)">~$150 единоразово</span></div>
<div class="price-r"><span class="price-l">CamAI Community</span><span class="tag free">БЕСПЛАТНО (4 камеры)</span></div>
<div class="price-r"><span class="price-l">CamAI Professional</span><span style="font-weight:700;color:var(--pl)">$15/камера/мес</span></div>
<div class="price-r"><span class="price-l">CamAI Enterprise</span><span style="font-weight:700;color:var(--ac2)">$25/камера/мес</span></div>
<div class="price-r"><span class="price-l">Google Gemini API</span><span class="tag free">БЕСПЛАТНО (15 req/min)</span></div>
<div class="price-r"><span class="price-l">Docker / SSL / Updates</span><span class="tag free">БЕСПЛАТНО</span></div>
<div style="margin-top:12px;padding:14px;background:rgba(16,185,129,.08);border:1px solid rgba(16,185,129,.2);border-radius:10px;text-align:center;max-width:650px">
<div style="font-size:1rem;font-weight:700;color:var(--ok)">Community: $0/мес (до 4 камер)</div>
<div style="font-size:.82rem;color:var(--tm)">Включает все ML-функции + YOLO + Gemini</div>
</div>
</div>
</div>
</div>

<!-- S15: Test Results -->
<div class="slide" data-slide="15">
<span class="sn">15 / Результаты тестирования</span>
<h2>Функциональные тесты: <span class="gr">10/10 PASS</span></h2>
<p class="sub" style="margin-bottom:16px">Тестирование на реальных изображениях (Pexels): пешеходы, автомобили, стройка, полки, огонь.</p>
<div class="cg cg2" style="max-width:1100px">
<div class="cd" style="padding:16px">
<h4 style="margin-bottom:10px">&#x2705; Результаты по эндпоинтам</h4>
<table style="width:100%;font-size:.82rem;border-collapse:collapse">
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">YOLO /detect (люди)</td><td style="padding:6px;text-align:right"><span class="tbadge pass">8 person, 0.47&#x2013;0.86</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">YOLO /detect (авто)</td><td style="padding:6px;text-align:right"><span class="tbadge pass">1 car, 0.79</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">Fire /detect-fire</td><td style="padding:6px;text-align:right"><span class="tbadge pass">true, 0.493, 3 reg</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">PPE /detect-ppe</td><td style="padding:6px;text-align:right"><span class="tbadge pass">2 persons found</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">Shelf /detect-shelf</td><td style="padding:6px;text-align:right"><span class="tbadge pass">100% full</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">ReID /extract-features</td><td style="padding:6px;text-align:right"><span class="tbadge pass">8 persons, 192-dim</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">Match /match-persons</td><td style="padding:6px;text-align:right"><span class="tbadge pass">self-match: 1.000</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">LPR /detect-plates</td><td style="padding:6px;text-align:right"><span class="tbadge pass">OCR pipeline OK</span></td></tr>
<tr style="border-bottom:1px solid var(--border)"><td style="padding:6px;font-weight:600">Behavior /analyze</td><td style="padding:6px;text-align:right"><span class="tbadge pass">8 person, density</span></td></tr>
<tr><td style="padding:6px;font-weight:600">Audio /analyze-audio</td><td style="padding:6px;text-align:right"><span class="tbadge pass">loud (0.70)</span></td></tr>
</table>
</div>
<div class="cd" style="padding:16px">
<h4 style="margin-bottom:10px">&#x1F4CA; Производительность</h4>
<div style="display:flex;flex-direction:column;gap:12px;margin-top:8px">
<div style="display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--card2);border-radius:8px">
<span style="font-size:.85rem">YOLO Inference</span>
<div class="met"><span class="v" style="color:var(--ok)">~50</span><span class="u">ms / кадр</span></div>
</div>
<div style="display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--card2);border-radius:8px">
<span style="font-size:.85rem">Detection FPS</span>
<div class="met"><span class="v" style="color:var(--ok)">~1</span><span class="u">fps (throttled)</span></div>
</div>
<div style="display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--card2);border-radius:8px">
<span style="font-size:.85rem">Gemini Analysis</span>
<div class="met"><span class="v" style="color:var(--warn)">2&#x2013;5</span><span class="u">sec / кадр</span></div>
</div>
<div style="display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--card2);border-radius:8px">
<span style="font-size:.85rem">ReID Feature Vector</span>
<div class="met"><span class="v" style="color:var(--ac)">192</span><span class="u">dimensions</span></div>
</div>
<div style="display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--card2);border-radius:8px">
<span style="font-size:.85rem">Self-Match Similarity</span>
<div class="met"><span class="v" style="color:var(--ok)">1.000</span><span class="u">cosine</span></div>
</div>
<div style="display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--card2);border-radius:8px">
<span style="font-size:.85rem">YOLO Model</span>
<div class="met"><span class="v" style="color:var(--pl)">v8n</span><span class="u">6.2M params</span></div>
</div>
</div>
</div>
</div>
</div>

<!-- S16: Use Case -->
<div class="slide" data-slide="16">
<span class="sn">16 / Пример использования</span>
<h2 style="text-align:center">Кейс: сеть магазинов <span class="gr">&#x00AB;Ромашка&#x00BB;</span></h2>
<p class="sub" style="text-align:center;margin:0 auto 20px">3 филиала в Ташкенте, 12 камер, 1 владелец</p>
<div class="cg cg3" style="max-width:1100px;margin:0 auto">
<div class="cd" style="border-top:3px solid var(--err)">
<h4 style="color:var(--err)">&#x274C; До CamAI</h4>
<p style="line-height:1.8">Камеры пишут на DVR &#x2014; <strong>никто не смотрит</strong>. Кражи обнаруживаются при инвентаризации. Нет понимания потока. Владелец объезжает 3 точки лично.</p>
</div>
<div class="cd" style="border-top:3px solid var(--ok)">
<h4 style="color:var(--ok)">&#x2705; После CamAI</h4>
<p style="line-height:1.8"><strong>YOLO считает людей real-time.</strong><br>
&#x2022; 12 камер: 10 online, 2 offline<br>
&#x2022; Telegram: &#x00AB;Огонь на складе, 14:32&#x00BB;<br>
&#x2022; Полка A3 пуста > 30 мин &#x2192; алерт<br>
&#x2022; LPR фиксирует номера ТС<br>
&#x2022; Cross-camera: один человек на 3 точках</p>
</div>
<div class="cd" style="border-top:3px solid var(--pl)">
<h4 style="color:var(--pl)">&#x1F4B0; Результат</h4>
<p style="line-height:1.8"><strong>Кражи -60%</strong> (мгновенные алерты). <strong>Очереди -40%</strong> (авто-оповещение менеджера). <strong>3 часа/день</strong> экономии владельца. Установка: <strong>$150</strong> за мини-сервер, 5 минут setup.</p>
</div>
</div>
</div>

<!-- S17: Final -->
<div class="slide center" data-slide="17">
<div style="margin-bottom:16px">
<svg width="64" height="64" viewBox="0 0 80 80" fill="none"><rect width="80" height="80" rx="20" fill="url(#g2)"/><path d="M20 35C20 35 28 25 40 25C52 25 60 35 60 35C60 35 52 45 40 45C28 45 20 35 20 35Z" stroke="#fff" stroke-width="2.5" fill="none"/><circle cx="40" cy="35" r="7" stroke="#fff" stroke-width="2.5" fill="none"/><circle cx="40" cy="35" r="3" fill="#fff"/><path d="M25 50L35 55L45 48L55 53" stroke="rgba(255,255,255,.5)" stroke-width="1.5" stroke-linecap="round"/><defs><linearGradient id="g2" x1="0" y1="0" x2="80" y2="80"><stop stop-color="#6366f1"/><stop offset="1" stop-color="#06b6d4"/></linearGradient></defs></svg>
</div>
<h1 style="font-size:3rem"><span class="gr">CamAI</span></h1>
<p style="font-size:1.3rem;margin-bottom:24px;color:var(--tm)">Dual-AI видеоаналитика нового поколения</p>
<div style="display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:24px;max-width:800px">
<span style="padding:8px 16px;border-radius:8px;background:rgba(245,158,11,.12);border:1px solid rgba(245,158,11,.25);font-size:.85rem;font-weight:600">YOLO v8 Real-time</span>
<span style="padding:8px 16px;border-radius:8px;background:rgba(139,92,246,.12);border:1px solid rgba(139,92,246,.25);font-size:.85rem;font-weight:600">Google Gemini AI</span>
<span style="padding:8px 16px;border-radius:8px;background:rgba(99,102,241,.12);border:1px solid rgba(99,102,241,.25);font-size:.85rem;font-weight:600">12 ML-эндпоинтов</span>
<span style="padding:8px 16px;border-radius:8px;background:rgba(6,182,212,.12);border:1px solid rgba(6,182,212,.25);font-size:.85rem;font-weight:600">Cross-Camera ReID</span>
<span style="padding:8px 16px;border-radius:8px;background:rgba(16,185,129,.12);border:1px solid rgba(16,185,129,.25);font-size:.85rem;font-weight:600">17+ страниц</span>
<span style="padding:8px 16px;border-radius:8px;background:rgba(239,68,68,.12);border:1px solid rgba(239,68,68,.25);font-size:.85rem;font-weight:600">Fire/Smoke/PPE/Audio</span>
<span style="padding:8px 16px;border-radius:8px;background:rgba(245,158,11,.12);border:1px solid rgba(245,158,11,.25);font-size:.85rem;font-weight:600">LPR + EasyOCR</span>
<span style="padding:8px 16px;border-radius:8px;background:rgba(99,102,241,.12);border:1px solid rgba(99,102,241,.25);font-size:.85rem;font-weight:600">Failover HA</span>
</div>
<div style="display:flex;gap:30px;margin-bottom:20px">
<div style="text-align:center"><div style="font-size:.82rem;color:var(--tm);margin-bottom:4px">YOLO Latency</div><div style="font-size:1rem;font-weight:700">~50ms</div><div style="font-size:.75rem;color:var(--tm)">на CPU</div></div>
<div style="text-align:center"><div style="font-size:.82rem;color:var(--tm);margin-bottom:4px">Community</div><div style="font-size:1rem;font-weight:700">$0/мес</div><div style="font-size:.75rem;color:var(--tm)">до 4 камер</div></div>
<div style="text-align:center"><div style="font-size:.82rem;color:var(--tm);margin-bottom:4px">Тесты</div><div style="font-size:1rem;font-weight:700">10/10</div><div style="font-size:.75rem;color:var(--tm)">PASS</div></div>
<div style="text-align:center"><div style="font-size:.82rem;color:var(--tm);margin-bottom:4px">Setup</div><div style="font-size:1rem;font-weight:700">5 мин</div><div style="font-size:.75rem;color:var(--tm)">Docker Compose</div></div>
</div>
<div style="margin-top:10px;color:var(--tm);font-size:.85rem">
GitHub: <code style="background:rgba(99,102,241,.12);padding:3px 8px;border-radius:5px;font-size:.8rem">github.com/asilbektilavov/cam-ai</code> &nbsp;|&nbsp;
Docker: <code style="background:rgba(99,102,241,.12);padding:3px 8px;border-radius:5px;font-size:.8rem">ghcr.io/asilbektilavov/cam-ai:latest</code>
</div>
</div>

</div>

<!-- Navigation -->
<div class="nav">
<button class="nav-btn" onclick="prev()">&#x2190;</button>
<div class="dots" id="dots"></div>
<button class="nav-btn" onclick="next()">&#x2192;</button>
<div class="cnt" id="cnt">1/18</div>
</div>

<script>
const T=18;let C=0,A=false;
const S=document.querySelectorAll('.slide'),D=document.getElementById('dots'),P=document.getElementById('pb'),N=document.getElementById('cnt');
for(let i=0;i<T;i++){const d=document.createElement('div');d.className='dot'+(i===0?' active':'');d.onclick=()=>go(i);D.appendChild(d)}
function upd(){S.forEach((s,i)=>{s.classList.remove('active','prev');if(i===C)s.classList.add('active');else if(i<C)s.classList.add('prev')});
D.querySelectorAll('.dot').forEach((d,i)=>d.className='dot'+(i===C?' active':''));P.style.width=((C+1)/T*100)+'%';N.textContent=(C+1)+'/'+T}
function go(i){if(A||i===C)return;A=true;C=i;upd();setTimeout(()=>A=false,500)}
function next(){if(C<T-1)go(C+1)}function prev(){if(C>0)go(C-1)}
document.addEventListener('keydown',e=>{if(e.key==='ArrowRight'||e.key===' '||e.key==='Enter'){e.preventDefault();next()}else if(e.key==='ArrowLeft'||e.key==='Backspace'){e.preventDefault();prev()}});
let tx=0;document.addEventListener('touchstart',e=>tx=e.changedTouches[0].screenX);
document.addEventListener('touchend',e=>{const d=tx-e.changedTouches[0].screenX;if(Math.abs(d)>50){d>0?next():prev()}});
let wt;document.addEventListener('wheel',e=>{clearTimeout(wt);wt=setTimeout(()=>{e.deltaY>0?next():prev()},60)},{passive:true});
</script>
</body>
</html>
